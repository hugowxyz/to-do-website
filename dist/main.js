!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=e=>{const t=e;return{clear:function(e){e.remove()},clearChildren:function(){for(;t.firstChild;)t.removeChild(t.firstChild)},getContainer:function(){return t}}};var o=function(e){let t,n=[],o=-1;const c=r(document.querySelector(".task-list"));return c.renderTask=function(){const e=function(e){return document.createElement(e)};c.clearChildren();for(let t of n){const r=e("div");r.classList="task-item";const o=e("div");o.classList.add("taskTitle");const s=e("h1");s.textContent=t.getTitle();const d=e("h3");d.textContent=t.getSubtitle(),o.appendChild(s),o.appendChild(d),console.log("create task container"),r.appendChild(o);const i=e("div");i.classList="taskDue";const a=e("p");a.textContent=t.getDateDue(),i.appendChild(a),r.appendChild(i);const l=e("div");l.classList="taskDesc",l.textContent=t.getDesc(),r.appendChild(l);const u=e("div");u.classList="taskDelete",u.textContent="X",u.addEventListener("click",e=>{for(let e=0;e<n.length;e++)if(n[e].getId()==t.getId()){n.splice(e,1);for(let t=e;t<n.length;t++)n[t].setId(n[t].getId()-1)}c.renderTask()}),r.appendChild(u),c.getContainer().appendChild(r)}},{addTask:e=>{e.setId(n.length),n.push(e),c.renderTask()},getTasks:()=>n,getName:()=>e,setId:e=>{o=e},getId:()=>o,setCurrent:e=>{t=e},getCurrent:()=>t,render:()=>{c.renderTask()}}};var c=function(e,t,n,r,o){let c;return{setTitle:t=>{e=t},getTitle:()=>e,setSubtitle:e=>{t=e},getSubtitle:()=>t,setDesc:e=>{n=e},getDesc:()=>n,setDateDue:e=>{r=e},getDateDue:()=>r,setPriority:e=>{o=e},getPriority:()=>o,getId:()=>c,setId:e=>{c=e}}};var s=function(){let e=[];const t=t=>{for(let n=0;n<e.length;n++)if(e[n].getId()==t)return n},n=(t,n)=>{e[t].setCurrent(n)},o=()=>{for(let t of e)t.setCurrent("not-active")},c=r(document.querySelector(".projects-list"));c.renderObjects=function(){c.clearChildren();for(let r of e){r.render();const e=document.createElement("li");if(e.classList.add("projects-item"),e.setAttribute("id",r.getId()),e.classList.add(r.getCurrent()),e.textContent=r.getName(),e.addEventListener("click",e=>{o();const s=t(e.target.getAttribute("id"));n(s,"active"),c.renderObjects(),r.render()}),0!=r.getId()){const t=document.createElement("span");t.textContent="X",t.classList="delete-project",t.addEventListener("click",e=>{s(e.target.parentNode.getAttribute("id"))}),e.appendChild(t)}c.getContainer().appendChild(e)}};const s=n=>{const r=t(n);e.splice(r,1);for(let t=r;t<e.length;t++)e[t].id-=1;c.renderObjects()};return{addProject:t=>{if(""==t.getName())return void alert("Project name cannot be empty!");const n=e.length;t.setId(n),o(),t.setCurrent("active"),e.push(t),c.renderObjects()},removeObject:s,findObject:t,addTaskToProject:(t,n)=>{console.log("Task to be added:",n),e[t].addTask(n)}}}();(function(){const e=o("default");s.addProject(e);const t=document.querySelector(".project-form");t.addEventListener("submit",e=>{e.preventDefault();let n=document.querySelector("#create-proj"),c=document.querySelector("#projName");const d=o(c.value);s.addProject(d),r(t).clearChildren(),n=document.createElement("button"),n.id="create-proj",n.textContent="Create new project",t.appendChild(n),c=document.createElement("input"),c.id="projName",c.setAttribute("type","text"),t.appendChild(c)})})(),document.querySelector(".task-form").addEventListener("submit",e=>{e.preventDefault();let t=[];const n=document.querySelector("#taskName").value;t.push(n);const r=document.querySelector("#taskSubtitle").value;t.push(r);const o=document.querySelector("#taskDesc").value;t.push(o);const d=document.querySelector("#taskDue").value;t.push(d);const i=document.querySelector("#task-priority").value;if(t.push(i),""==n)return void alert("A task title is required!");const a=document.querySelector(".active").id;console.log("Active project ID:",a);const l=c(n,r,o,d,i);s.addTaskToProject(a,l)})}]);